<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B&K Finance Tracker</title>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="B&K Finance">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/mobile.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4"></script>
</head>
<body>
    <div id="app">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <h1 class="logo">üí∞ B&K Finances</h1>
                <div class="header-controls">
                    <button id="currencyToggle" class="currency-btn" title="Toggle AUD/GBP">$ AUD</button>
                    <button id="refreshBtn" class="refresh-btn" title="Refresh">üîÑ</button>
                </div>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="nav-container">
            <select id="navDropdown" class="nav-dropdown">
                <option value="overview">üìä Overview</option>
                <option value="statements">üè¶ Statements</option>
                <option value="history">üìà Full History</option>
                <option value="wages">üíµ Wages</option>
                <option value="bills">üìã Bills</option>
                <option value="savings">üíé Savings</option>
                <option value="insights">üí° Insights</option>
            </select>
        </nav>

        <main class="main-content">

            <!-- ========== OVERVIEW ========== -->
            <div id="overview" class="tab-content active">
                <!-- Account Filter -->
                <div class="card filter-card">
                    <div class="card-header"><h3>üè¶ Accounts</h3>
                        <button class="select-all-btn" id="selectAllBtn">Select All</button>
                    </div>
                    <div class="card-body">
                        <div class="account-filters" id="accountFilters"></div>
                    </div>
                </div>

                <!-- Balance Summary -->
                <div class="balance-summary">
                    <div class="card balance-card">
                        <div class="card-body">
                            <div class="balance-label">Selected Balance</div>
                            <div class="balance-amount" id="selectedBalance">$0.00</div>
                            <div class="balance-sub" id="selectedBalanceSub"></div>
                        </div>
                    </div>
                    <div class="card balance-card total">
                        <div class="card-body">
                            <div class="balance-label">Overall Balance</div>
                            <div class="balance-amount" id="overallBalance">$0.00</div>
                            <div class="balance-sub" id="overallBalanceSub"></div>
                        </div>
                    </div>
                </div>

                <!-- Account Cards -->
                <div class="accounts-grid" id="accountCards"></div>

                <!-- Recent Transactions (7 days) -->
                <div class="card">
                    <div class="card-header">
                        <h3>Recent Transactions (7 days)</h3>
                        <button class="view-all-btn" id="viewAllBtn">View All ‚Üí</button>
                    </div>
                    <div class="card-body">
                        <div class="transactions-list" id="recentTransactions">
                            <p class="no-data">Loading...</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ========== STATEMENTS (full per-account view) ========== -->
            <div id="statements" class="tab-content">
                <div class="card">
                    <div class="card-header">
                        <h3>üè¶ Account Statement</h3>
                    </div>
                    <div class="card-body">
                        <!-- Account selector -->
                        <div class="statement-controls">
                            <select id="statementAccount" class="filter-select">
                                <option value="all">All Accounts</option>
                            </select>
                            <select id="statementMonth" class="filter-select">
                                <option value="">Last 7 Days</option>
                            </select>
                        </div>
                        <div class="statement-balance-bar" id="statementBalanceBar"></div>
                        <div class="transactions-list statement-list" id="statementList">
                            <p class="no-data">Select an account and period</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ========== FULL HISTORY ========== -->
            <div id="history" class="tab-content">
                <div class="card">
                    <div class="card-header">
                        <h3>üìà Full Transaction History</h3>
                    </div>
                    <div class="card-body">
                        <div class="statement-controls">
                            <div class="history-account-filters" id="historyAccountFilters"></div>
                            <select id="historyMonth" class="filter-select">
                                <option value="">All Time</option>
                            </select>
                        </div>
                        <div class="transactions-list" id="historyList">
                            <p class="no-data">Loading...</p>
                        </div>
                    </div>
                </div>

                <!-- Balance Chart -->
                <div class="card">
                    <div class="card-header"><h3>Balance Over Time</h3></div>
                    <div class="card-body"><canvas id="balanceChart" class="chart-canvas"></canvas></div>
                </div>
            </div>

            <!-- ========== WAGES ========== -->
            <div id="wages" class="tab-content">
                <div class="card">
                    <div class="card-header"><h3>üíµ Wage History</h3></div>
                    <div class="card-body">
                        <div id="wagesContent"><p class="no-data">Loading...</p></div>
                    </div>
                </div>
            </div>

            <!-- ========== BILLS ========== -->
            <div id="bills" class="tab-content">
                <div class="card">
                    <div class="card-header"><h3>üìã Recurring Bills</h3></div>
                    <div class="card-body">
                        <div id="billsContent"><p class="no-data">Loading...</p></div>
                    </div>
                </div>
            </div>

            <!-- ========== SAVINGS ========== -->
            <div id="savings" class="tab-content">
                <div class="card">
                    <div class="card-header"><h3>üíé Savings Goals</h3></div>
                    <div class="card-body">
                        <div id="savingsContent"><p class="no-data">Loading...</p></div>
                    </div>
                </div>
            </div>

            <!-- ========== INSIGHTS ========== -->
            <div id="insights" class="tab-content">
                <div class="card">
                    <div class="card-header"><h3>üí° BAI Insights</h3></div>
                    <div class="card-body">
                        <div id="insightsContent"><p class="no-data">Upload bank statements to get insights</p></div>
                    </div>
                </div>
            </div>

        </main>

        <footer class="footer">
            <div class="footer-content">
                <p>Powered by BAI ü§ñ | <span id="dataSourceLabel">Loading...</span> | Rate: <span id="exchangeRateLabel">--</span></p>
            </div>
        </footer>
    </div>

    <script src="js/config.js"></script>
    <script src="js/data.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
